<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>添加购房信息</title>
    <link rel="stylesheet" href="../css/guestRecord.css">
    <script type="application/javascript" src="../js/jquery-1.8.3.js"></script>
    <script>
        $(function () {
            var guestRecordId = sessionStorage.getItem("guestRecordId");
            var guestRecordHouseId = sessionStorage.getItem("guestRecordHouseId");
            var guestRecordUserId = sessionStorage.getItem("guestRecordUserId");
            var guestRecordGuestName = sessionStorage.getItem("guestRecordGuestName");
            var guestRecordGuestTel = sessionStorage.getItem("guestRecordGuestTel");
            var guestRecordTenantryId = sessionStorage.getItem("guestRecordTenantryId");
            var guestRecordSeeTime = sessionStorage.getItem("guestRecordSeeTime");
            var guestRecordQuestion = sessionStorage.getItem("guestRecordQuestion");
            $("input[name='guestRecordHouseId']").val(guestRecordHouseId);
            $("input[name='guestRecordUserId']").val(guestRecordUserId);
            $("input[name='guestRecordGuestName']").val(guestRecordGuestName);
            $("input[name='guestRecordGuestTel']").val(guestRecordGuestTel);
            $("input[name='guestRecordTenantryId']").val(guestRecordTenantryId);
            $("input[name='guestRecordSeeTime']").val(guestRecordSeeTime);
            $("input[name='guestRecordQuestion']").val(guestRecordQuestion);

            $("#submitGuest").click(function () {
                var guestRecordHouseId = $("input[name='guestRecordHouseId']").val();
                var guestRecordUserId = $("input[name='guestRecordUserId']").val();
                var guestRecordGuestName = $("input[name='guestRecordGuestName']").val();
                var guestRecordGuestTel = $("input[name='guestRecordGuestTel']").val();
                var guestRecordTenantryId = $("input[name='guestRecordTenantryId']").val();
                var guestRecordSeeTime = $("input[name='guestRecordSeeTime']").val();
                var guestRecordQuestion = $("input[name='guestRecordQuestion']").val();
                $.ajax({
                    url:"http://localhost:8080/guest/update",
                    data:{"guestRecordId": guestRecordId,
                        "guestRecordHouseId":guestRecordHouseId,
                        "guestRecordUserId":guestRecordUserId,
                        "guestRecordGuestName":guestRecordGuestName,
                        "guestRecordGuestTel":guestRecordGuestTel,
                        "guestRecordTenantryId":guestRecordTenantryId,
                        "guestRecordSeeTime":guestRecordSeeTime,
                        "guestRecordQuestion":guestRecordQuestion},
                    type:"post",
                    dataType:"json",
                    success:function () {
                        alert("修改成功");
                        window.location.href="http://localhost:8080/html/guestRecord_show.html";
                    }
                });
            });
        });
    </script>
</head>
<body>
<table>
    <tr>
        <th colspan="2">修改购房信息</th>
    </tr>
    <tr>
        <th>房屋信息id</th>
        <th><input type="text" name="guestRecordHouseId"></th>
    </tr>
    <tr>
        <th>用户id</th>
        <th><input type="text" name="guestRecordUserId"></th>
    </tr>
    <tr>
        <th>客户姓名</th>
        <th><input type="text" name="guestRecordGuestName"></th>
    </tr>
    <tr>
        <th>客户电话</th>
        <th><input type="text" name="guestRecordGuestTel"></th>
    </tr>
    <tr>
        <th>承诺方id</th>
        <th><input type="text" name="guestRecordTenantryId"></th>
    </tr>
    <tr>
        <th>看房时间</th>
        <th><input type="text" name="guestRecordSeeTime"></th>
    </tr>
    <tr>
        <th>客户提出的问题</th>
        <th><input type="text" name="guestRecordQuestion"></th>
    </tr>
    <tr>
        <th colspan="2"><button id="submitGuest">提交</button></th>
    </tr>
</table>
</body>
</html>